import{u,r as i,j as e,L as g,a as l,H as p,B as h,b as v}from"./index-61083e70.js";function b({socket:n}){const s=u(r=>r.user.user),[o,d]=i.useState([]);i.useEffect(()=>{n.connect(),(async()=>{try{const t=await v.get(`https://my-twitter-backend.onrender.com/conversations/${s._id}`);d(t.data)}catch(t){console.log(t)}})(),n.emit("addUser",s.handle)},[s]);const c=s.following.map((r,t)=>{const m=o.find(a=>a.members.includes(s))?o.find(a=>a.members.includes(s)):{members:[s.handle,r]};return e(g,{to:`/messages/message/${JSON.stringify(m)}`,children:e("div",{className:"p-2 mb-3 border ml-2",children:r})},t)});return l("div",{className:" lg:relative  bg-[var(--bg-primary)] h-full text-[var(--color)]",children:[e(p,{text:"Messages"}),l("div",{className:"input bg-[var(--bg-primary)] px-20 flex gap-3 rounded-3xl w-full p-2 mb-3 mt-3",children:[e("div",{className:"w-7 h-7",children:e("svg",{viewBox:"0 0 24 24","aria-hidden":"true",children:e("g",{children:e("path",{d:"M10.25 3.75c-3.59 0-6.5 2.91-6.5 6.5s2.91 6.5 6.5 6.5c1.795 0 3.419-.726 4.596-1.904 1.178-1.177 1.904-2.801 1.904-4.596 0-3.59-2.91-6.5-6.5-6.5zm-8.5 6.5c0-4.694 3.806-8.5 8.5-8.5s8.5 3.806 8.5 8.5c0 1.986-.682 3.815-1.824 5.262l4.781 4.781-1.414 1.414-4.781-4.781c-1.447 1.142-3.276 1.824-5.262 1.824-4.694 0-8.5-3.806-8.5-8.5z"})})})}),e("input",{type:"text",placeholder:"Search Direct Messages",className:"w-full bg-transparent outline-none "})]}),c||"You need to follow or be followed to send direct message",e(h,{})]})}export{b as default};
